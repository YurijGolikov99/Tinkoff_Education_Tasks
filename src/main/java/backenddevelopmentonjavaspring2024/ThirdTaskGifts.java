package backenddevelopmentonjavaspring2024;

import java.util.Arrays;
import java.util.Comparator;
import java.util.Scanner;

/*
Костя ответственно относится к подаркам для своих друзей. В этот раз он решил сделать n подарков своими руками для своих лучших друзей.
Для изготовления подарков он заказал материалы, причём материал для подарка і придёт в день d .
Также Костя знает, что на изготовление подарка і нужно потратить Сі дней. Костя трудолюбивый, поэтому в один день может готовить любое число подарков (даже все).
Готовые подарки Костя планирует отправить почтой. Чтобы подарок і успел дойти до нового года, его нужно отправить не позднее дня Si. Кроме того, на почте действует ограничение: можно отправлять не больше одной посылки в один день.
Помогите Косте понять, успеет ли он приготовить и отправить все подарки так, чтобы они дошли до получателей вовремя.

Формат входных данных
В первой строке входных данных дано число n — число подарков, которое планирует приготовить Костя (1 <= n <= 10^5).
В следующих n строках дана информация про каждый из подарков. Описание подарка і состоит из трех целых положительных чисел d_i, C_i и S_i — день, в который доставят материалы для изготовления подарка, время, необходимое на приготовление подарка, и день, до которого должен быть отправлен подарок, чтобы он успел дойти (1 <= d_i, C_i, S_i <= 10^9).

Формат выходных данных
Выведите «YES» (без кавычек), если Костя успеет приготовить и отправить все подарки вовремя, или «NO» (без кавычек) в противном случае.

Замечание
В первом тесте из условия Костя может отправить первый подарок в третий день, второй — в шестой день, а третий — в пятый.
Во втором тесте из условия Костя никак не может успеть отправить все подарки, так как он должен за 3 дня (второй, третий и четвертый) отправить четыре подарка.
В третьем тесте из Костя может отправить первый подарок в третий день, второй — в шестой день, третий — в четвертый день, а четвертый — в пятый.

Примеры данных
Пример 1
Ввод
3
1 2 4
3 2 8
2 3 7
Вывод
YES

Пример 2
Ввод
4
1 1 4
1 1 4
1 1 4
1 1 4
Вывод
NO

Пример 3
Ввод
4
1 2 4
1 2 7
2 2 4
3 1 5
Вывод
YES
 */

public class ThirdTaskGifts {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

        int n = scanner.nextInt();
        if (n < 1 || n > 100000) {
            System.out.println("Invalid input for n");
            return;
        }
        Gift[] gifts = new Gift[n];

        for (int i = 0; i < n; i++) {
            int d = scanner.nextInt();
            int c = scanner.nextInt();
            int s = scanner.nextInt();

            if (!isValidRange(d) || !isValidRange(c) || !isValidRange(s)) {
                System.out.println("Invalid input for d, C, or S");
                return;
            }

            gifts[i] = new Gift(d, c, s);
        }

        Arrays.sort(gifts, Comparator.comparingInt(g -> g.s));

        int currentDay = 0;

        for (Gift gift : gifts) {
            if (currentDay < gift.d) {
                currentDay = gift.d;
            }

            if (currentDay + gift.c > gift.s) {
                System.out.println("NO");
                return;
            }

            currentDay += gift.c;
        }

        System.out.println("YES");
    }

    static boolean isValidRange(int value) {
        return value >= 1 && value <= 1000000000;
    }

    static class Gift {
        int d;  // день, в который приходят материалы
        int c;  // время на приготовление подарка
        int s;  // день, до которого нужно отправить подарок

        public Gift(int d, int c, int s) {
            this.d = d;
            this.c = c;
            this.s = s;
        }
    }
}
